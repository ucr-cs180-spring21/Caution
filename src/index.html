<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="styling/style.css">
	</head>
	<body>
		<h1>Caution!</h1>	 
		<div>
			<select multiple="multiple" class="multi-select">
				<option value="" disabled selected>Select filters</option>
				<option id="year" value="year">year</option>
				<option id="month"value="month">month</option>
				<option id="day" value="day">day</option>
				<option id="startTime" value="startTime">startTime</option>
				<option id="endTime" value="endTime">endTime</option>
				<option id="state" value="state">state</option>
				<option id="county" value="county">county</option>
				<option id="zipcode" value="zipcode">zipcode</option>
				<option id="street" value="street">street</option>
				<option id="number" value="number">number</option>
				<option id="startLat" value="startLat">startLat</option>
				<option id="endLat" value="endLat">endLat</option>
				<option id="startLong" value="startLong">startLong</option>
				<option id="endLong" value="endLong">endLong</option>
				<option id="severity" value="severity">severity</option>
				<option id="bump" value="bump">bump</option>
				<option id="stop" value="stop">stop</option>
				<option id="signal" value="signal">signal</option>
				<option id="weather" value="weather">weather</option>
				<option id="humidity" value="humidity">humidity</option>
			</select>
		</div>
		<div>
			<textarea class="text-area">Queued data will be displayed here</textarea>
		</div>
		<div class="button">
			<button type="button" onclick="">Update</button>
			<button type="button" onclick="">Export</button>
		</div>

		<p id="hellow"></p>
		<button onclick="buttonClickedhello()">Hello!</button>

		<button onclick="buttonweather()">Weather: Light Rain</button>
		<button onclick="buttonhumid()">Humidity: 100%</button>

		<table class="table" id="infotable"></table>

		<script>
		// 	var data = [
		// 		{"ID":"A-1","Source":"MaQuest","TMC":"201","Severity":"2"},
		// 		{"ID":"A-2","Source":"apQuest","TMC":"204","Severity":"3"},
		// 		{"ID":"A-3","Source":"Mapuest","TMC":"207","Severity":"2"},
		// 		{"ID":"A-4","Source":"MapQest","TMC":"208","Severity":"2"},
		// 		{"ID":"A-5","Source":"MapQuet","TMC":"214","Severity":"2"},
		// 		{"ID":"A-6","Source":"MapQues","TMC":"220","Severity":"2"},
		// 		{"ID":"A-7","Source":"MapQust","TMC":"247","Severity":"2"},
		// ];
		// //method learned from: https://stackoverflow.com/questions/44127872/convert-array-of-objects-into-html-table-with-jquery-or-javascript
		// 	var table = '<table>';
		// 	table += '<tr>';
		// 	for(var i in data[0]) {
		// 		table += '<th>' + i + '</th>';
		// 	}
		// 	table += '</tr>';
		// 	for(var j = 0; j < data.length; j++){
		// 		table += '<tr>';
		// 		for(var k in data[j]){
		// 		table += '<td>' + data[j][k] + '</td>';
		// 		}
		// 		table += '</tr>';
		// 	}
		// 	table += '</table>';
		// 	document.getElementById('infotable').innerHTML = table;
		</script>

		<script src="front_end/multiselect.js"></script> 
		<script src="/socket.io/socket.io.js"></script>
		<script>
			var socket = io.connect();
        
            // When button is clickeds
		    function buttonClickedhello(){
			    socket.emit('bump');
			}
			function buttonweather(){
			    socket.emit('rain');
			}
			function buttonhumid(){
			    socket.emit('humid');
			}
			 
			 // When the server sends, update the HTML
			socket.on('hello world', function(data){
                console.log("Hello World!");
				document.getElementById("hellow").innerHTML = 'Hello World!';
			});
			socket.on('sendbump', function(data){
                console.log("Received Bump");
				console.log(data);
				// var data = [
				// 		{"ID":"A-1","Source":"MaQuest","TMC":"201","Severity":"2"},
				// 		{"ID":"A-2","Source":"apQuest","TMC":"204","Severity":"3"},
				// 		{"ID":"A-3","Source":"Mapuest","TMC":"207","Severity":"2"},
				// 		{"ID":"A-4","Source":"MapQest","TMC":"208","Severity":"2"},
				// 		{"ID":"A-5","Source":"MapQuet","TMC":"214","Severity":"2"},
				// 		{"ID":"A-6","Source":"MapQues","TMC":"220","Severity":"2"},
				// 		{"ID":"A-7","Source":"MapQust","TMC":"247","Severity":"2"},
				// ];
				//method learned from: https://stackoverflow.com/questions/44127872/convert-array-of-objects-into-html-table-with-jquery-or-javascript
					var table = '<table>';
					table += '<tr>';
					for(var i in data[0]) {
						table += '<th>' + i + '</th>';
					}
					table += '</tr>';
					for(var j = 0; j < data.length; j++){
						table += '<tr>';
						for(var k in data[j]){
						table += '<td>' + data[j][k] + '</td>';
						}
						table += '</tr>';
					}
					table += '</table>';
					document.getElementById('infotable').innerHTML = table;
					});
		</script>
	</body>
</html>
